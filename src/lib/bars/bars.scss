@use "sass:color";

$firstBarColor: green;
$lastBarColor: blue;
$barColorCount: 8;

$barColors: chromatic-scale(
  $firstBarColor,
  $lastBarColor,
  (
    mode: 'hcl',
    stops: $barColorCount,
  )
);

.bars {
  grid-column: drawingAreaStart / drawingAreaEnd;
  grid-row: drawingAreaStart / drawingAreaEnd;
}

.bar rect {
  $barColor: map-get(
    $map: $barColors,
    $key: 0,
  );
  fill: $barColor;
  stroke: scale-color($color: $barColor, $lightness: -33%);
}

.bar:hover rect {
  $barColor: map-get(
    $map: $barColors,
    $key: 0,
  );
  fill: scale-color($color: $barColor, $lightness: 10%);
  stroke: scale-color($color: $barColor, $lightness: 0%);
}

.transition .bar .label {
  transition: transform 1s;
}

.bar .label text {
  text-anchor: middle;
  transform: translate(0, 0.35em);
}

.bar:hover .label text {
  font-weight: bold;
}

@each $index, $color in $barColors {
  .bar-group .bar:nth-child(#{$barColorCount}n + #{$index + 1}) rect {
    fill: $color;
    stroke: scale-color($color: $color, $lightness: -33%);
  }
  .bar-group .bar:nth-child(#{$barColorCount}n + #{$index + 1}):hover rect {
    fill: scale-color($color: $color, $lightness: 10%);
    stroke: scale-color($color: $color, $lightness: 0%);
  }
}
