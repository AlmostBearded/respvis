<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>RespVis - Interactive Bar Chart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      #chart {
        width: 100%;
        height: 50vh;
        min-height: 25rem;
      }

      body {
        background-color: floralwhite;
      }
    </style>
  </head>
  <body>
    <h1>Interactive Bar Chart</h1>
    <div id="chart"></div>
    <script src="../respvis.js"></script>
    <script>
      var categories = ['Vienna', 'Graz', 'Linz', 'Salzburg', 'Innsbruck', 'Klagenfurt', 'Villach'];
      var values = [1691000, 222000, 205000, 153000, 132000, 91000, 59000];

      var bars;

      respVis
        .chart()
        .root(
          respVis.group().config({
            attributes: {
              'grid-template': '10 1fr auto 10 / 10 auto 1fr 10',
            },
            children: [
              // Bars
              (bars = respVis.bars().config({
                attributes: {
                  'grid-area': '2 / 3 / 3 / 4',
                  // Highlight hovered bars
                  '.bar:hover > rect': {
                    fill: respVis.chroma
                      .hex(respVis.BarsComponent.defaultColor)
                      .brighten(0.5)
                      .hex(),
                  },
                },
                categories: categories,
                values: values,
                orientation: respVis.BarOrientation.Vertical,
                events: [
                  // Call config with an empty object to reapply the current config
                  { typenames: 'mouseover', callback: () => bars.config({}) },
                  { typenames: 'mouseout', callback: () => bars.config({}) },
                ],
              })),
              // Left axis
              respVis.leftAxis().config({
                attributes: {
                  'grid-area': '2 / 2 / 3 / 3',
                },
                ticks: {
                  scale: bars.valuesScale(),
                },
                title: {
                  text: 'Population',
                },
              }),
              // Bottom axis
              respVis.bottomAxis().config({
                attributes: {
                  'grid-area': '3 / 3 / 4 / 4',
                },
                ticks: {
                  scale: bars.categoriesScale(),
                },
                title: {
                  text: 'Cities',
                },
              }),
            ],
          })
        )
        .mount('#chart');
    </script>
  </body>
</html>
