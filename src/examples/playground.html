<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>RespVis - Playground</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="../respvis.css" />
    <style>
      #chart {
        width: 100%;
        height: 50vh;
        min-height: 25rem;
      }

      body {
        background-color: floralwhite;
      }
    </style>
  </head>
  <body>
    <h1>Bar Chart in Custom Grid</h1>
    <div id="chart"></div>
    <script src="../respvis.js"></script>
    <script>
      var categories = [
        'Vienna',
        'Graz',
        'Linz',
        'Salzburg',
        'Innsbruck',
        'Klagenfurt',
        'Villach',
      ];
      var values = [1691000, 222000, 205000, 153000, 132000, 91000, 59000];

      var bars;

      respVis
        .chart()
        .layout(
          respVis.group().config({
            attributes: {
              'grid-template': '1fr auto / auto 1fr',
            },
            children: [
              // Bars
              (bars = respVis.bars().config({
                attributes: {
                  'grid-area': '1 / 2 / 2 / 3',
                },
                categories: categories,
                values: values,
              })),
              // Left axis
              respVis.group().config({
                attributes: {
                  'grid-template': 'auto / auto 5 auto',
                  'grid-area': '1 / 1 / 2 / 2',
                },
                children: [
                  // Title
                  respVis.text().config({
                    text: 'Population',
                    attributes: {
                      'grid-area': '1 / 1 / 2 / 2',
                      'place-self': 'center',
                      // Title styling
                      'letter-spacing': '0.5em',
                      'font-weight': 'bold',
                      // Vertical text styling
                      transform: 'rotate(-90)',
                      'dominant-baseline': 'hanging',
                      'text-anchor': 'end',
                    },
                  }),
                  // Ticks
                  respVis.leftTicks().config({
                    scale: bars.valuesScale(),
                    attributes: {
                      'grid-area': '1 / 3 / 2 / 4',
                    },
                  }),
                ],
              }),
              // Bottom axis
              respVis.group().config({
                attributes: {
                  'grid-template': 'auto 5 auto / auto',
                  'grid-area': '2 / 2 / 3 / 3',
                },
                children: [
                  // Ticks
                  respVis.bottomTicks().config({
                    scale: bars.categoriesScale(),
                    attributes: {
                      'grid-area': '1 / 1 / 2 / 2',
                      '.tick text': {
                        'dominant-baseline': 'hanging',
                        transform: 'translate(0, 7) rotate(-45)',
                        'text-anchor': 'end',
                      },
                    },
                    responsiveConfigs: [
                      [
                        'screen and (min-width: 40rem)',
                        {
                          attributes: {
                            '.tick text': {
                              transform: 'translate(0, 7)',
                              'text-anchor': 'middle',
                            },
                          },
                        },
                      ],
                    ],
                  }),
                  // Title
                  respVis.text().config({
                    text: 'Cities',
                    attributes: {
                      'grid-area': '3 / 1 / 4 / 2',
                      'place-self': 'center',
                      // Title styling
                      'letter-spacing': '0.5em',
                      'font-weight': 'bold',
                    },
                  }),
                ],
              }),
            ],
          })
        )
        .mount('#chart');
    </script>
  </body>
</html>
